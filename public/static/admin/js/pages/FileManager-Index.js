"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2806],{3812:(t,e,a)=>{a.d(e,{Z:()=>i});const n={name:"SiteBreadcrumbs",props:{breadcrumbs:Array}};const i=(0,a(1900).Z)(n,(function(){var t=this,e=t._self._c;return t.filled(t.breadcrumbs)?e("div",{staticClass:"row justify-content-between"},[e("div",{staticClass:"col-auto"},[e("nav",{staticClass:"ml-2 mt-1",attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},t._l(t.breadcrumbs,(function(a,n){return e("li",{staticClass:"breadcrumb-item",class:{active:n===t.breadcrumbs.length-1}},[t.filled(a.url)?e("a",{attrs:{href:a.url}},[0===n?e("i",{staticClass:"icon-home3 mr-2"}):t._e(),e("span",[t._v(t._s(a.title))])]):[0===n?e("i",{staticClass:"icon-home3 mr-2"}):t._e(),e("span",{class:{"text-muted":n<t.breadcrumbs.length-1}},[t._v(t._s(a.title))])]],2)})),0)])])]):t._e()}),[],!1,null,null,null).exports},6102:(t,e,a)=>{a.d(e,{Z:()=>i});const n={name:"SiteFooter",props:{footerUrl:String},data:function(){return{year:null,author:null,designer:null,link:null}},mounted:function(){var t=this;axios.get(this.footerUrl).then((function(e){t.year=e.data.data.year,t.author=e.data.data.author,t.designer=e.data.data.designer,t.link=e.data.data.link}))}};const i=(0,a(1900).Z)(n,(function(){var t=this,e=t._self._c;return e("footer",{staticClass:"page-footer small p-2"},[t.filled(t.author)?e("p",{staticClass:"mb-0"},[t._v("\n    "+t._s(t.year)+" Â© "+t._s(t.author)+".\n    Design By "),t.blank(t.link)?e("span",[t._v(t._s(t.designer))]):e("a",{attrs:{href:t.link,target:"_blank"}},[t._v(t._s(t.designer))])]):t._e()])}),[],!1,null,null,null).exports},5482:(t,e,a)=>{a.d(e,{Z:()=>s});var n=a(2300);const i={name:"SiteHeader",props:{headerUrl:String,menuActive:Boolean,trans:Object},data:function(){return{siteTitle:"",systemUrl:"",systemLogo:"",profileUrl:"",logoutUrl:"",layoutLanguages:[],layoutLanguage:document.documentElement.lang}},mounted:function(){var t=this;axios.get(this.headerUrl+"?current="+n.DS.encode(window.location.href)).then((function(e){t.siteTitle=e.data.data.siteTitle,t.systemUrl=e.data.data.systemUrl,t.systemLogo=e.data.data.systemLogo,t.profileUrl=e.data.data.profileUrl,t.logoutUrl=e.data.data.logoutUrl,t.layoutLanguages=e.data.data.layoutLanguages}))}};const s=(0,a(1900).Z)(i,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"page-header fixed-top"},[e("h1",{staticClass:"navbar-brand left-width pl-3 navbar navbar-expand-lg"},[e("a",{staticClass:"font-weight-bold text-uppercase",attrs:{href:t.systemUrl}},[e("img",{staticClass:"mr-1 align-middle",attrs:{src:t.systemLogo,alt:""}})])]),t._v(" "),e("button",{staticClass:"btn btn-link toggle-left-nav-btn no-decoration",attrs:{type:"button"},on:{click:function(e){return t.$emit("toggle-menu",!t.menuActive)}}},[e("span",{staticClass:"text-hide"},[t._v(t._s(t.array_get(t.trans,"ui.layout.menu")))]),e("span",{staticClass:"line"})]),t._v(" "),e("div",{staticClass:"top-right pr-2 mt-1"},[t.layoutLanguages.length>1?e("div",{staticClass:"d-inline-block dropdown globe"},[e("button",{staticClass:"btn btn-link text-secondary dropdown-toggle px-2",attrs:{id:"menu-globe",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("i",{staticClass:"icon-globe h4"}),e("span",{staticClass:"text-hide"},[t._v(t._s(t.array_get(t.trans,"ui.layout.language")))])]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-right rounded-0",attrs:{"aria-labelledby":"menu-globe"}},t._l(t.layoutLanguages,(function(a){return e("a",{staticClass:"dropdown-item",class:{active:a.id===t.layoutLanguage},attrs:{href:a.id===t.layoutLanguage?"#":a.url}},[e("i",{staticClass:"img-thumbnail flag flag-icon-background",class:[a.icon_class]}),e("span",[t._v(t._s(a.title))])])})),0)]):t._e(),t._v(" "),e("div",{staticClass:"d-inline-block dropdown globe"},[e("button",{staticClass:"btn btn-link text-secondary dropdown-toggle px-2",attrs:{id:"menu-profile",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("i",{staticClass:"icon-user h4"}),e("span",{staticClass:"text-hide"},[t._v(t._s(t.array_get(t.trans,"ui.layout.account")))])]),t._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-right rounded-0",attrs:{"aria-labelledby":"menu-profile"}},[e("a",{staticClass:"dropdown-item",attrs:{href:t.profileUrl}},[e("i",{staticClass:"icon-vcard"}),e("span",[t._v(t._s(t.array_get(t.trans,"ui.layout.profile")))])]),t._v(" "),e("a",{staticClass:"dropdown-item",attrs:{href:t.logoutUrl}},[e("i",{staticClass:"icon-log-out"}),e("span",[t._v(t._s(t.array_get(t.trans,"ui.layout.logout")))])])])])])])}),[],!1,null,null,null).exports},3343:(t,e,a)=>{a.d(e,{Z:()=>o});var n=a(5482),i=a(6102),s=a(2915),r=a(3812);const l={name:"SiteMain",components:{SiteHeader:n.Z,SiteFooter:i.Z,SiteMenu:s.Z,SiteBreadcrumbs:r.Z},props:{urls:Object,configs:Object,trans:Object,breadcrumbs:Array},data:function(){return{menuActive:!0,dataLanguage:"zh-TW",pageMinHeight:0,authTimer:null}},created:function(){this.menuActive=window.innerWidth>=this.minmaxConfig.mobileWidthX},mounted:function(){var t=this;window.addEventListener("resize",(function(){t.changePageSize(),t.changeMenuToggle()})),this.authTimer=setTimeout(this.validateAuth,3e5)},watch:{pageMinHeight:function(t){this.$emit("page-min-height-change",t)}},methods:{changePageSize:function(){var t=window.innerHeight,e=window.innerWidth;if(document.querySelector(".content-header")&&document.querySelector(".page-footer")&&document.querySelector(".page-header")){var a=document.querySelector(".content-header").offsetHeight,n=document.querySelector(".page-header").offsetHeight,i=t-a-n-35;this.pageMinHeight=e<576?i+n:i}else this.pageMinHeight=0},changeMenuToggle:function(){var t=this;window.innerWidth<this.minmaxConfig.mobileWidthX?this.menuActive&&setTimeout((function(){t.menuActive=!1}),200):this.menuActive||setTimeout((function(){t.menuActive=!0}),200)},validateAuth:function(){var t=this;this.array_get(this.urls,"validate_auth")&&axios.get(this.urls.validate_auth).then((function(e){"0000"===e.data.code&&(t.authTimer=setTimeout(t.validateAuth,3e5))})).catch((function(){}))}}};const o=(0,a(1900).Z)(l,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"wrapper",class:{"slide-nav-close":!t.menuActive}},[e("site-header",{attrs:{"header-url":t.urls.api_header,"menu-active":t.menuActive,trans:t.trans},on:{"toggle-menu":function(e){t.menuActive=e}}}),t._v(" "),e("div",{staticClass:"border-box page-content"},[e("div",{staticClass:"content-header"},[e("site-breadcrumbs",{attrs:{breadcrumbs:t.breadcrumbs}})],1),t._v(" "),e("div",{staticClass:"content-body"},[t._t("default",null,{pageMinHeight:t.pageMinHeight})],2)]),t._v(" "),e("site-menu",{attrs:{"menu-url":t.urls.api_menu,"current-menu-id":t.configs.page_id},on:{"toggle-menu":function(e){t.menuActive=e}}}),t._v(" "),e("site-footer",{attrs:{"footer-url":t.urls.api_footer}})],1)}),[],!1,null,null,null).exports},2915:(t,e,a)=>{a.d(e,{Z:()=>r});function n(t,e){var a="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function(t,e){if(!t)return;if("string"==typeof t)return i(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return i(t,e)}(t))||e&&t&&"number"==typeof t.length){a&&(t=a);var n=0,s=function(){};return{s,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,l=!0,o=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return l=t.done,t},e:function(t){o=!0,r=t},f:function(){try{l||null==a.return||a.return()}finally{if(o)throw r}}}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}const s={name:"SiteMenu",props:["menuUrl","currentMenuId"],data:function(){return{menus:[]}},mounted:function(){var t=this;axios.get(this.menuUrl).then((function(e){t.menus=e.data.data}))},watch:{menus:function(){this.$nextTick((function(){$("#layout-menu-nicescroll").slimScroll({height:"100%",color:"#878787",disableFadeOut:!0,borderRadius:0,size:"4px",alwaysVisible:!1})}))}},methods:{isAvailable:function(t){if(this.filled(t.url))return!0;if(t.children.length>0){var e,a=n(t.children);try{for(a.s();!(e=a.n()).done;){var i=e.value;if(this.isAvailable(i))return!0}}catch(t){a.e(t)}finally{a.f()}}return!1},isActive:function(t){if(t.id===this.currentMenuId)return!0;var e,a=n(t.children);try{for(a.s();!(e=a.n()).done;){var i=e.value;if(this.isActive(i))return!0}}catch(t){a.e(t)}finally{a.f()}return!1},getUrl:function(t){return this.blank(t)?"javascript:void(0);":t}}};const r=(0,a(1900).Z)(s,(function(){var t=this,e=t._self._c;return e("nav",{staticClass:"fixed-sidebar-left left-width"},[e("ul",{staticClass:"side-nav",attrs:{id:"layout-menu-nicescroll"}},[t._l(t.menus,(function(a,n){return[t.isAvailable(a)&&0!==n?e("li",[e("hr",{staticClass:"mb-0"})]):t._e(),t._v(" "),t.isAvailable(a)?e("li",{staticClass:"navigation-header"},[e("span",[t._v(t._s(a.title))]),e("i",{staticClass:"icon-dots-three-horizontal"})]):t._e(),t._v(" "),t._l(a.children,(function(n){return t.isAvailable(a)?[t.isAvailable(n)&&t.blank(n.url)?e("li",[e("a",{staticClass:"collapsed",class:{active:t.isActive(n)},attrs:{href:"javascript:void(0);","data-toggle":"collapse","data-target":"#Menu_"+n.id},on:{click:function(e){return t.$emit("toggle-menu",!0)}}},[e("div",{staticClass:"float-left"},[t.filled(n.icon)?e("i",{class:n.icon}):t._e(),e("span",{staticClass:"right-nav-text"},[t._v(t._s(n.title))])]),t._v(" "),t._m(0,!0),t._v(" "),e("div",{staticClass:"clearfix"})]),t._v(" "),e("ul",{staticClass:"collapse collapse-level-1",class:{show:t.isActive(n)},attrs:{id:"Menu_"+n.id}},t._l(n.children,(function(a){return e("li",[e("a",{class:{active:t.isActive(a)},attrs:{href:t.getUrl(a.url),target:a.target}},[t._v(t._s(a.title))])])})),0)]):t.isAvailable(n)&&t.filled(n.url)?e("li",[e("a",{class:{active:t.isActive(n)},attrs:{href:t.getUrl(n.url),target:n.target}},[e("div",{staticClass:"float-left"},[t.filled(n.icon)?e("i",{class:n.icon}):t._e(),e("span",{staticClass:"right-nav-text"},[t._v(t._s(n.title))])]),t._v(" "),e("div",{staticClass:"clearfix"})])]):t._e()]:t._e()}))]}))],2)])}),[function(){var t=this._self._c;return t("div",{staticClass:"float-right"},[t("i",{staticClass:"icon-chevron-small-right"})])}],!1,null,null,null).exports},4993:(t,e,a)=>{a.r(e),a.d(e,{default:()=>o});var n=a(3343),i=a(9237),s=a(1955),r=a(3800);const l={name:"FileManagerIndex",components:{AdminLayout:n.Z},props:{urls:Object,configs:Object},data:function(){return{breadcrumbs:[],trans:{},fmMinHeight:500,fmHeight:500}},created:function(){this.getUI()},mounted:function(){},computed:{settings:function(){return{baseUrl:this.urls.fm_base,lang:this.getLanguage(),translation:this.getTranslation()}}},methods:{getUI:function(){var t=this;axios.get(this.urls.api_ui).then((function(e){t.breadcrumbs=e.data.data.breadcrumbs,t.trans=e.data.data.trans,t.columns=e.data.data.columns,t.search=e.data.data.searches,t.options=e.data.data.options,t.$nextTick((function(){window.dispatchEvent(new Event("resize"))}))}))},getLanguage:function(){switch(document.documentElement.lang){case"zh-TW":return"zh-TW";case"zh-CN":return"zh-CN";default:return"en-US"}},getTranslation:function(){switch(document.documentElement.lang){case"zh-TW":return{name:"zh-TW",content:r.Z};case"zh-CN":return{name:"zh-CN",content:s.Z};default:return{name:"en-US",content:i.Z}}},getAreaHeight:function(){var t=this;document.getElementById("file-manager-panel")&&document.querySelector("#file-manager-panel > .panel-heading")&&this.$nextTick((function(){var e=document.getElementById("file-manager-panel").offsetHeight-document.querySelector("#file-manager-panel > .panel-heading").offsetHeight;e>t.fmMinHeight&&(t.fmHeight=e)}))}}};const o=(0,a(1900).Z)(l,(function(){var t=this,e=t._self._c;return e("admin-layout",{attrs:{urls:t.urls,configs:t.configs,trans:t.trans,breadcrumbs:t.breadcrumbs},on:{"page-min-height-change":function(e){return t.getAreaHeight()}},scopedSlots:t._u([{key:"default",fn:function(a){return[e("section",{staticClass:"panel panel-default",style:{minHeight:a.pageMinHeight+"px"},attrs:{id:"file-manager-panel"}},[e("header",{staticClass:"panel-heading"},[e("h1",{staticClass:"h5 float-left font-weight-bold"},[t._v(t._s(t.array_get(t.trans,"title")))]),t._v(" "),t.filled(t.urls.guide)?e("a",{staticClass:"btn btn-sm rounded-pill btn-secondary ml-2",attrs:{href:t.urls.guide,target:"_blank",title:t.array_get(t.trans,"ui.button.guide")}},[e("i",{staticClass:"icon-help"})]):t._e()]),t._v(" "),e("div",{staticClass:"panel-wrapper"},[e("div",{staticClass:"panel-body pt-0 pl-0 pr-0 pb-0",style:{height:t.fmHeight+"px"}},[e("file-manager",{attrs:{settings:t.settings}})],1)])])]}}])})}),[],!1,null,null,null).exports}}]);
//# sourceMappingURL=FileManager-Index.js.map